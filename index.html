<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>勇敢的成长小超人</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <audio id="bgm" loop> <source src="assets/bgm.mp3" type="audio/mpeg"> </audio>

    <div id="game-stage">
        
        <!-- 1. 升级版 HUD (进度条) -->
        <div id="hud">
            <div class="status-bar">
                <div class="icon">⚡</div>
                <div class="bar-bg">
                    <div id="bar-fill" class="bar-fill"></div>
                </div>
                <div class="score-text"><span id="score-val">0</span>/100</div>
            </div>
        </div>

        <!-- 2. 开始界面 -->
        <div id="scene-start" class="scene active">
            <img src="assets/avatar.png" class="avatar-large" onerror="this.style.display='none'">
            <h1 style="margin-bottom: 10px;">勇敢的成长小超人</h1>
            <p>点击开始，探索李昱宸的成长地图</p>
            <button class="start-btn" onclick="Game.start()">开始冒险</button>
        </div>

        <!-- 3. 地图界面 -->
        <div id="scene-map" class="scene">
            <div id="player-avatar"></div>
            <!-- 关卡 -->
            <div class="map-node" data-index="0" style="top: 16%; left: 82%;" onclick="Game.showStory('school', this)"></div>
            <div class="map-node locked" data-index="1" style="top: 30%; left: 16%;" onclick="Game.showStory('sports', this)"></div>
            <div class="map-node locked" data-index="2" style="top: 44%; left: 78%;" onclick="Game.showStory('art', this)"></div>
            <div class="map-node locked" data-index="3" style="top: 48%; left: 6%;"  onclick="Game.showStory('robot', this)"></div>
            <div class="map-node locked" data-index="4" style="top: 79%; left: 76%;" onclick="Game.showStory('travel', this)"></div>
        </div>

        <!-- 4. 弹窗 -->
        <div id="modal-overlay">
            <div class="modal-card">
                <img src="" class="modal-img" id="m-img">
                <h3 class="modal-title" id="m-title">标题</h3>
                <p class="modal-text" id="m-text">简介</p>
                <button class="explore-btn" onclick="Game.enterDetail()">🚀 深入探索</button>
            </div>
        </div>

        <!-- 5. 详情页 -->
        <div id="scene-detail" class="scene">
            <!-- 这里的结构由 JS 动态生成 -->
        </div>

        <!-- ⚠️ 新增：6. 终极通关页 (满屏烟花) -->
        <div id="scene-finale" class="scene">
            <div class="firework"></div>
            <div class="firework"></div>
            <div class="firework"></div>
            
            <div class="finale-card">
                <h1>🎉 挑战成功！</h1>
                <img src="assets/avatar.png" class="avatar-large" style="margin: 20px 0;">
                <p class="finale-text">
                    从第一次害羞不敢说话，到站在舞台中央；<br>
                    从害怕困难，到享受挑战。<br>
                    这100分勇气值，<br>
                    是我一步步成长的见证！
                </p>
                <div class="badge">🏅 获得称号：全能小超人</div>
                <p style="font-size: 0.9rem; margin-top: 20px; opacity: 0.8;">感谢观看我的成长故事</p>
            </div>
        </div>

    </div>
    <script src="script.js"></script>
</body>
</html>